{"ast":null,"code":"import axios from \"axios\";\nclass UserService {\n  constructor() {\n    this.baseURL = 'http://localhost:3000/users';\n    this.token = localStorage.getItem('token') || '';\n    this.header = {\n      headers: {\n        'authorization': `Bearer ${this.token}`,\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }\n    };\n  }\n  async list() {\n    try {\n      const response = await axios.get(this.baseURL, this.header);\n      return response.data.data;\n    } catch (error) {\n      console.error(error);\n      if (error.response && (error.response.status === 403 || error.response.status === 401)) {\n        this.expirado();\n      }\n      throw error;\n    }\n  }\n  async get(id) {\n    try {\n      const {\n        data\n      } = await axios.get(`${this.baseURL}/${id}`, this.header);\n      return data;\n    } catch (error) {\n      console.error(error);\n      if (error.response && (error.response.status === 403 || error.response.status === 401)) {\n        this.expirado();\n      }\n      throw error;\n    }\n  }\n  async create(userData) {\n    try {\n      const {\n        data\n      } = await axios.post(`${this.baseURL}/store`, userData, this.header);\n      console.log(data);\n      return data;\n    } catch (error) {\n      console.error(error);\n      if (error.response && (error.response.status === 403 || error.response.status === 401)) {\n        this.expirado();\n      }\n      throw error; // Lanza el error para manejarlo en otros lugares\n    }\n  }\n  async delete(id) {\n    try {\n      const {\n        data: deleteData\n      } = await axios.delete(`${this.baseURL}/${id}`, this.header);\n      return data;\n    } catch (error) {\n      console.error(error);\n      if (error.response && (error.response.status === 403 || error.response.status === 401)) {\n        this.expirado();\n      }\n      throw error;\n    }\n  }\n  async update(id, data) {\n    try {\n      const {\n        data: updatedData\n      } = await axios.put(`${this.baseURL}/${id}`, data, this.header);\n      return data;\n    } catch (error) {\n      console.error(error);\n      if (error.response && (error.response.status === 403 || error.response.status === 401)) {\n        this.expirado();\n      }\n      throw error;\n    }\n  }\n}\nconst userServiceInstance = new UserService();\nexport default userServiceInstance;","map":{"version":3,"names":["axios","UserService","constructor","baseURL","token","localStorage","getItem","header","headers","list","response","get","data","error","console","status","expirado","id","create","userData","post","log","delete","deleteData","update","updatedData","put","userServiceInstance"],"sources":["G:/NUR/test-sps-react/src/services/UserService.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nclass UserService {\r\n  constructor() {\r\n    this.baseURL = 'http://localhost:3000/users';\r\n    this.token = localStorage.getItem('token') || '';\r\n    this.header = {\r\n      headers: {\r\n        'authorization': `Bearer ${this.token}`,\r\n        'Content-Type': 'application/json',\r\n        'Accept': 'application/json', \r\n      },\r\n    };\r\n  }\r\n  async list() {\r\n    try {\r\n      const response = await axios.get(this.baseURL, this.header); \r\n      return response.data.data;  \r\n    } catch (error) {\r\n      console.error(error);\r\n      if (error.response && (error.response.status === 403 || error.response.status === 401)) {\r\n        this.expirado();\r\n      }\r\n      throw error; \r\n    }\r\n  }\r\n  async get(id) {\r\n    try {\r\n      const { data } = await axios.get(`${this.baseURL}/${id}`, this.header);\r\n      return data; \r\n    } catch (error) {\r\n      console.error(error);\r\n      if (error.response && (error.response.status === 403 || error.response.status === 401)) {\r\n        this.expirado();\r\n      }\r\n      throw error; \r\n    }\r\n  }\r\n  async create(userData) {\r\n    try {\r\n      const { data } = await axios.post(`${this.baseURL}/store`, userData, this.header);\r\n      console.log(data);\r\n      return data;\r\n    } catch (error) {\r\n      console.error(error);\r\n      if (error.response && (error.response.status === 403 || error.response.status === 401)) {\r\n        this.expirado();\r\n      }\r\n      throw error; // Lanza el error para manejarlo en otros lugares\r\n    }\r\n  }\r\n  async delete(id) {\r\n    try {\r\n      const {  data: deleteData } = await axios.delete(`${this.baseURL}/${id}`, this.header);\r\n      return data; \r\n    } catch (error) {\r\n      console.error(error);\r\n      if (error.response && (error.response.status === 403 || error.response.status === 401)) {\r\n        this.expirado();\r\n      }\r\n      throw error; \r\n    }\r\n  }\r\n  async update(id, data) {\r\n   try {\r\n      const { data: updatedData } = await axios.put(`${this.baseURL}/${id}`, data, this.header);\r\n      return data; \r\n    } catch (error) {\r\n      console.error(error);\r\n      if (error.response && (error.response.status === 403 || error.response.status === 401)) {\r\n        this.expirado();\r\n      }\r\n      throw error; \r\n    }\r\n  }\r\n}\r\n\r\nconst userServiceInstance = new UserService();\r\nexport default userServiceInstance;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}